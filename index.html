<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">

    <title>DevMeetup</title>
    <!--    <link rel="stylesheet" href="./css/style.css">-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.css"/>


    <!--<link rel="stylesheet" href="./css/_materialFullCalendar.scss"/>-->
    <link rel="stylesheet" href="./static/style/style.css"/>
</head>

<body>

<nav class="navbar navbar-default" role="navigation">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>

    </div>
    <a class="navbar-brand" href="#">DevMeetup</a>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">

        <ul class="nav navbar-nav navbar-left">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">보기<b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li><a href="#" id="btn-calendar">달력</a></li>
                    <li><a href="#" id="btn-list">리스트</a></li>
                </ul>
            </li>
        </ul>
    </div><!-- /.navbar-collapse -->


</nav>
<div class="container" id="container">


</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">상세내용</h4>
            </div>
            <div class="modal-body">
                <iframe src="" id="iframe" style="zoom:0.60" width="100%" height="750" frameborder="0"></iframe>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<footer class="footer">
    <div class="container">

        <p class="text-muted"  ><h4>I am because we are</h4></p>
    </div>
</footer>

</body>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment-with-locales.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/locale-all.js"></script>
<script src="https://fb.me/react-0.13.3.js"></script>
<script src="https://fb.me/JSXTransformer-0.13.3.js"></script>


<script type="text/jsx">
    // React Component
    var CalendarView = React.createClass({
        render: function() {
            return (
                    <div id="calendar">
                        <div id='fullcalendar'></div>

                    </div>
            );
        }
    });

    var ListView = React.createClass({
        render: function() {
            return (
                    <div id="list">
                        <div> 리스트 </div>
                    </div>
            );
        }
    });
</script>

<script type="text/jsx">
    //Event Handler

    $(document).ready(function(e) {
        drawCalendarView();
    });

    function drawCalendarView(){
        React.render(<CalendarView />, document.getElementById('container'));
        drawCalendar();
    }

    function drawCalendar() {
        $('#fullcalendar').fullCalendar({

            header: {
                left: null ,
                center: 'title',
                right: 'prev,next today'
            },
            // customize the button names,
            // otherwise they'd all just say "list"
            views: {},
            locale: 'ko',
            defaultView: 'month',
            defaultDate: moment().format(),
            navLinks: true, // can click day/week names to navigate views
            editable: true,
            eventLimit: true, // allow "more" link when too many events
            events: function (start, end, timezone, callback) {

                $.getJSON( "data/events.json", function( result ) {
                    console.log(result);
                    callback(result.events);
                });
            },
            eventClick: function(calEvent, jsEvent, view) {
                $("#iframe").attr('src', calEvent.url);
                $('#myModal').modal('show');
                return false;
            }

        });
    }

    $("#btn-calendar").click(function(e){
        drawCalendarView();
    });

    $("#btn-list").click(function(e){

    });

</script>

</html>