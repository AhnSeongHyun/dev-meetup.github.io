<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <title>DevMeetup</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.css"/>
    <link rel="stylesheet" href="./static/style/material-kit.css"/>
    <link rel="stylesheet" href="./static/style/materialFullCalendar.css"/>

</head>

<body style="background-color: white">

<!-- Navbar Primary  -->
<nav class="navbar navbar-info">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example-navbar-primary">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#pablo">DevMeetup</a>
        </div>

        <div class="collapse navbar-collapse" id="example-navbar-primary">
            <ul class="nav navbar-nav navbar-right">
                <li class="active" id="btn-calendar">
                    <a href="#pablo" >
                        <i class="fa fa-calendar" aria-hidden="true"></i>
                        Calendar
                    </a>
                </li>
                <li id="btn-list">
                    <a href="#pablo">
                        <i class="fa fa-list" aria-hidden="true"></i>
                        List
                    </a>
                </li>

            </ul>
        </div>
    </div>
</nav>
<!-- End Navbar Primary -->




<div class="wrapper">
    <!-- you can use the class main-raised if you want the main area to be as a page with shadows -->
    <div class="main">
        <div class="container"  id="container">
            <!-- here you can add your content -->
        </div>
    </div>
</div>



<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">상세내용</h4>
            </div>
            <div class="modal-body">
                <iframe src="" id="iframe" style="zoom:0.60" width="100%" height="750" frameborder="0"></iframe>
            </div>
            <div class="modal-footer">
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<footer class="footer">
    <div class="container">
        <nav class="pull-left">
            <ul>
                <li>
                    <a href="https://github.com/AhnSeongHyun/devmeetup.github.io">
                        <i class="fa fa-github-alt" aria-hidden="true"></i>
                        github
                    </a>
                </li>
                <li>
                    <a href="https://github.com/AhnSeongHyun/devmeetup.github.io/blob/master/LICENSE">
                        MIT Licenses
                    </a>
                </li>
                <li>
                    I am because we are
                </li>
            </ul>
        </nav>
        <div class="copyright pull-right">
            © 2017, made with <i class="material-icons">favorite</i> by devmeetup.github.io.

        </div>
    </div>
</footer>


</body>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment-with-locales.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/locale-all.js"></script>
<script src="https://fb.me/react-0.13.3.js"></script>
<script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
<script src="./static/js/material.min.js"></script>
<script src="./static/js/nouislider.min.js"></script>


<script type="text/jsx">
    // React Component
    var CalendarView = React.createClass({
        render: function() {
            return (
                    <div id="calendar">
                        <div id='fullcalendar'></div>
                    </div>
            );
        }
    });

    var ListView = React.createClass({
        render: function() {
            return (
                    <div id="list">
                        <div> 리스트 </div>
                    </div>
            );
        }
    });
</script>

<script type="text/jsx">
    //Event Handler

    $(document).ready(function(e) {
        drawCalendarView();
    });

    function drawCalendarView(){
        React.render(<CalendarView />, document.getElementById('container'));
        drawCalendar();
    }

    function drawListView(){
        React.render(<ListView />, document.getElementById('container'));
    }
    function drawCalendar() {
        $('#fullcalendar').fullCalendar({

            header: {
                left: null ,
                center: 'title',
                right: 'prev,next today'
            },
            // customize the button names,
            // otherwise they'd all just say "list"
            views: {},
            locale: 'ko',
            defaultView: 'month',
            defaultDate: moment().format(),
            navLinks: true, // can click day/week names to navigate views
            editable: true,
            eventLimit: true, // allow "more" link when too many events
            events: function (start, end, timezone, callback) {
                $.getJSON( "data/events.json", function( result ) {

                    for(var i=0; i<result.events.length; i++) {
                        var start = result.events[i].start;
                        if (moment(start).isAfter(moment())) {
                            result.events[i]['color'] = '#03A9F4';
                        }
                        else{
                            result.events[i]['color'] = '#B3E5FC';
                        }
                    }

                    console.log(result.events);

                    callback(result.events);
                });
            },
            eventClick: function(calEvent, jsEvent, view) {
                $("#iframe").attr('src', calEvent.url);
                $('#myModal').modal('show');
                return false;
            }

        });
    }

    $("#btn-calendar").click(function(e){
        $(this).addClass('active');
        $("#btn-list").removeClass('active');
        drawCalendarView();
    });

    $("#btn-list").click(function(e){
        $("#btn-calendar").removeClass('active');
        $(this).addClass('active');
        drawListView();
    });

</script>

</html>