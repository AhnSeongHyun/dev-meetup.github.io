<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <title>Dev-Meetup</title>
    <meta property="og:title" content="Dev-Meetup" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://dev-meeup.github.io/static/images/ic_event_note_black_48dp_2x.png" />
    <meta property="og:locale" content="ko_KR" />
    <meta property="og:site_name" content="Dev-Meetup" />
    <meta property="og:description" content="개발자 밋업/세미나 모음" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.css"/>
    <link rel="stylesheet" href="./static/style/material-kit.css"/>
    <link rel="stylesheet" href="./static/style/materialFullCalendar.css"/>

</head>

<body style="background-color: white">

<!-- Navbar -->
<nav class="navbar navbar-info">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example-navbar-primary">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="./">DevMeetup</a>
        </div>

        <div class="collapse navbar-collapse" id="example-navbar-primary">
            <ul class="nav navbar-nav navbar-right">
                <li class="active" id="btn-calendar">
                    <a>
                        <i class="fa fa-calendar" aria-hidden="true"></i>
                        Calendar
                    </a>
                </li>
                <li id="btn-list">
                    <a>
                        <i class="fa fa-list" aria-hidden="true"></i>
                        List
                    </a>
                </li>

            </ul>
        </div>
    </div>
</nav>
<!-- End Navbar -->

<div class="wrapper">
    <div class="main">
        <div class="container"  id="container">
        </div>
    </div>
</div>

<footer class="footer">
    <div class="container">
        <nav class="pull-left">
            <ul>
                <li>
                    <a href="https://github.com/dev-meetup/dev-meetup.github.io">
                        <i class="fa fa-github-alt" aria-hidden="true"></i>
                        github
                    </a>
                </li>
                <li>
                    <a href="https://github.com/dev-meetup/dev-meetup.github.io/blob/master/LICENSE">
                        MIT Licenses
                    </a>
                </li>
                <li>
                    I am because we are
                </li>
            </ul>
        </nav>
        <div class="copyright pull-right">
            © 2017, made with <i class="material-icons">favorite</i> by <a href="https://dev-meeup.github.io"dev-meetup.github.io.

        </div>
    </div>
</footer>


</body>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment-with-locales.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/locale-all.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-with-addons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.js"></script>
<script src="./static/js/material.min.js"></script>
<script src="./static/js/nouislider.min.js"></script>

<script type="text/babel">

    class CalendarView extends React.Component {
        render() {
            return (
                    <div id="calendar">
                        <div id='fullcalendar'></div>
                    </div>
            );
        }
    }


    class ListView extends React.Component {
        render() {
            return (
                    <div id="calendar">
                        <div id='fullcalendar'></div>
                    </div>
            );
        }
    }

    document.onload = drawCalendarView();

    function drawCalendarView(){
        ReactDOM.render(<CalendarView />, document.getElementById('container'));
        drawCalendarMonth();
    }

    function drawListView(){
        ReactDOM.render(<ListView />, document.getElementById('container'));
        drawCalendarList();

    }

    function drawCalendarMonth() {
        $('#fullcalendar').fullCalendar({

            header: {
                left: null ,
                center: 'title',
                right: 'prev,next today'
            },
            views: {},

            locale: 'ko',
            defaultView: 'month',
            defaultDate: moment().format(),
            navLinks: true,
              timeFormat: 'H:mm',
            editable: false,
            eventLimit: true,
            events: function (start, end, timezone, callback) {
                $.getJSON( "data/events.json", function( result ) {

                    for(var i=0; i<result.events.length; i++) {
                        var start = result.events[i].start;
                        if (moment(start).isAfter(moment())) {
                            result.events[i]['color'] = '#03A9F4';
                        }
                        else{
                            result.events[i]['color'] = '#B3E5FC';
                        }
                     }
                    callback(result.events);
                });
            },
            eventClick: function(calEvent, jsEvent, view) {
                window.open(calEvent.url, '_blank');
                return false;
            }

        });
    }


    function drawCalendarList() {
        $('#fullcalendar').fullCalendar({

            header: {
                left: null ,
                center: 'title',
                right: 'prev,next today'
            },
            views: {},
            locale: 'ko',
            defaultView: 'listMonth',
            defaultDate: moment().format(),
            timeFormat: 'H:mm',
            navLinks: true,
            editable: false,
            eventLimit: true,
            events: function (start, end, timezone, callback) {
                $.getJSON("data/events.json", function( result ) {

                    for(var i=0; i<result.events.length; i++) {
                        var start = result.events[i].start;
                        if (moment(start).isAfter(moment())) {
                            result.events[i]['color'] = '#03A9F4';
                        }
                        else{
                            result.events[i]['color'] = '#B3E5FC';
                        }
                    }
                    callback(result.events);
                });
            } 

        });
    }

    $("#btn-calendar").click(function(e){
        $(this).addClass('active');
        $("#btn-list").removeClass('active');
        drawCalendarView();
    });


    $("#btn-list").click(function(e){
        $("#btn-calendar").removeClass('active');
        $(this).addClass('active');
        drawListView();
    });


</script>

</html>